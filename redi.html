<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Redirecting...</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <h1>Redirecting...</h1>
  <p>Please wait while we process your request...</p>

  <script>
    // Extract the authorization code from the URL
    const urlParams = new URLSearchParams(window.location.search);
    const code = urlParams.get('code');

    // Display the result to the user
    if (code) {
      console.log('Authorization Code:', code);

      // Display success message
      const successMessage = document.createElement('p');
      successMessage.textContent = `Authorization Code Retrieved: ${code}`;
      document.body.appendChild(successMessage);

      // Optionally send the code to your backend for token exchange
      // For example:
      // fetch('/exchange-token', { method: 'POST', body: JSON.stringify({ code }) })
    } else {
      console.error('Authorization code not found.');
      const errorMessage = document.createElement('p');
      errorMessage.textContent = 'Failed to retrieve authorization code.';
      document.body.appendChild(errorMessage);
    }

    // Add a "Back to Home" button
    const backButton = document.createElement('a');
    backButton.href = "https://sikhanyiso01.github.io/CrdioChordsRepo/";
    backButton.textContent = "Back to Home";
    backButton.classList.add('button'); // Assuming you have a "button" CSS class
    document.body.appendChild(backButton);
  </script>
</body>
</html>
